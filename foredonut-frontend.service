[Unit]
Description=Fore Donut Frontend (Static React)
After=network-online.target fore_donut_backend.service
Wants=fore_dont_backend.service
BindsTo=fore_donut_backend.service
PartOf=fore_donut_backend.service

[Service]
Type=simple
User=user
WorkingDirectory=/home/user/Downloads/fore_donut/Fore_Donut/frontend

ExecStartPre=/bin/bash -c '\
  until curl -sf http://127.0.0.1:8000/; do \
    echo "Waiting backend Fore Donut..."; \
    sleep 2; \
  done'

ExecStart=/usr/local/bin/serve -s build -l 3000

Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
